{"version":3,"sources":["presentation/pages/home/Home.module.scss","presentation/pages/master/Master.module.scss","presentation/components/back-button/BackButton.module.scss","presentation/components/header/Header.module.scss","utils/StringUtils.ts","presentation/pages/home/Home.tsx","data/protocols/HttpClient.ts","data/usecases/RemoteChooseMaster.ts","infra/http/AxiosHttpClient.ts","main/factories/http/AxiosHttpClient.ts","main/factories/usecases/RemoteChooseMasterFactory.ts","main/factories/pages/home/HomeFactory.tsx","presentation/pages/master/images/darth-vader.png","presentation/pages/master/images/luke-skywalker.png","presentation/components/back-icon/BackIcon.tsx","presentation/components/back-button/BackButton.tsx","presentation/components/header/Header.tsx","presentation/pages/master/Master.tsx","main/factories/pages/master/MasterFactory.tsx","main/router/Router.tsx","reportWebVitals.ts","index.tsx"],"names":["module","exports","dashString","string","replace","Home","HttpStatusCode","chooseMaster","useState","loading","setLoading","history","useHistory","a","choose","Masters","master","push","name","alert","className","Style","home","welcomeWrap","welcome","challenge","buttonWrap","data-testid","onClick","button","type","disabled","footer","RemoteChooseMaster","httpClient","url","masters","promises","map","get","id","Promise","race","result","statusCode","ok","body","Error","AxiosHttpClient","params","Axios","response","status","data","makeAxiosHttpClient","makeRemoteChooseMaster","makeHome","BackIcon","dark","color","width","height","viewBox","fill","xmlns","d","BackButton","classes","classnames","backButton","Header","children","header","Master","useParams","newMmaster","masterClasses","masterLuke","image","useMemo","LukeSkywalker","DarthVader","main","masterImage","src","alt","masterName","Router","basename","process","path","component","makeMaster","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.1eb42429.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"home\":\"Home_home__X6KhP\",\"welcomeWrap\":\"Home_welcomeWrap__iX656\",\"welcome\":\"Home_welcome__2fc4s\",\"challenge\":\"Home_challenge__TnP0q\",\"buttonWrap\":\"Home_buttonWrap__2GsE3\",\"button\":\"Home_button__2DNN9\",\"footer\":\"Home_footer__1XLJU\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"master\":\"Master_master__2WBnt\",\"masterLuke\":\"Master_masterLuke__3yRa8\",\"button\":\"Master_button__2tYVc\",\"masterName\":\"Master_masterName__1shbT\",\"main\":\"Master_main__cXYST\",\"buttonWrap\":\"Master_buttonWrap__Jw4OO\",\"masterImage\":\"Master_masterImage__Cacnd\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"backButton\":\"BackButton_backButton__3_zVt\",\"dark\":\"BackButton_dark__1G0UH\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__3z--H\"};","function dashString(string: string) {\r\n  return string.replace(/ /g, '-');\r\n}\r\n\r\nfunction undashString(string: string) {\r\n  return string.replace(/-/g, ' ');\r\n}\r\n\r\nexport { dashString, undashString };\r\n","import React, { useState } from 'react';\r\nimport { useHistory } from 'react-router-dom';\r\nimport Masters from '../../../domain/data/Masters.json';\r\nimport Style from './Home.module.scss';\r\nimport { ChooseMaster } from '../../../domain/usecases/ChooseMaster';\r\nimport { dashString } from '../../../utils/StringUtils';\r\n\r\ntype Props = {\r\n  chooseMaster: ChooseMaster;\r\n};\r\n\r\nfunction Home({ chooseMaster }: Props) {\r\n  const [loading, setLoading] = useState<boolean>(false);\r\n  const history = useHistory();\r\n\r\n  async function handleStart() {\r\n    setLoading(true);\r\n    let master;\r\n    try {\r\n      master = await chooseMaster.choose(Masters);\r\n      setLoading(false);\r\n      history.push(`/master/${dashString(master.name)}`);\r\n    } catch (error) {\r\n      // eslint-disable-next-line no-alert\r\n      alert('Sorry, try again later!');\r\n      setLoading(false);\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div className={Style.home}>\r\n      <div className={Style.welcomeWrap}>\r\n        <span className={Style.welcome}>\r\n          Welcome to <b>IClinic</b>\r\n        </span>\r\n        <span className={Style.challenge}>Frontend challenge</span>\r\n      </div>\r\n      <div className={Style.buttonWrap}>\r\n        <button\r\n          data-testid=\"button\"\r\n          onClick={handleStart}\r\n          className={Style.button}\r\n          type=\"button\"\r\n          disabled={loading}\r\n        >\r\n          <span>START</span>\r\n        </button>\r\n      </div>\r\n      <div className={Style.footer} />\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Home;\r\n","export type HttpRequest = {\r\n  url: string;\r\n};\r\n\r\nexport interface HttpClient {\r\n  get: (params: HttpRequest) => Promise<HttpResponse>;\r\n}\r\n\r\nexport enum HttpStatusCode {\r\n  ok = 200,\r\n}\r\n\r\nexport type HttpResponse = {\r\n  statusCode: HttpStatusCode;\r\n  body?: any;\r\n};\r\n","import { Master } from '../../domain/models/Master';\r\nimport { ChooseMaster } from '../../domain/usecases/ChooseMaster';\r\nimport { HttpClient, HttpStatusCode } from '../protocols/HttpClient';\r\n\r\nexport default class RemoteChooseMaster implements ChooseMaster {\r\n  constructor(readonly httpClient: HttpClient, readonly url: string) {}\r\n\r\n  async choose(masters: Master[]): Promise<Master> {\r\n    const promises = masters.map((master) =>\r\n      this.httpClient.get({\r\n        url: `${this.url}/${master.id}`,\r\n      })\r\n    );\r\n    const result = await Promise.race(promises);\r\n    if (result.statusCode === HttpStatusCode.ok) {\r\n      return result.body;\r\n    }\r\n    throw new Error();\r\n  }\r\n}\r\n","import Axios, { AxiosResponse } from 'axios';\r\nimport {\r\n  HttpClient,\r\n  HttpRequest,\r\n  HttpResponse,\r\n} from '../../data/protocols/HttpClient';\r\n\r\nexport default class AxiosHttpClient implements HttpClient {\r\n  async get(params: HttpRequest): Promise<HttpResponse> {\r\n    let response: AxiosResponse;\r\n    try {\r\n      response = await Axios.get(params.url);\r\n    } catch (error) {\r\n      response = error.response;\r\n    }\r\n    return {\r\n      statusCode: response.status,\r\n      body: response.data,\r\n    };\r\n  }\r\n}\r\n","import AxiosHttpClient from '../../../infra/http/AxiosHttpClient';\r\n\r\nconst makeAxiosHttpClient = (): AxiosHttpClient => new AxiosHttpClient();\r\n\r\nexport default makeAxiosHttpClient;\r\n","import RemoteChooseMaster from '../../../data/usecases/RemoteChooseMaster';\r\nimport { ChooseMaster } from '../../../domain/usecases/ChooseMaster';\r\nimport makeAxiosHttpClient from '../http/AxiosHttpClient';\r\n\r\nconst makeRemoteChooseMaster = (): ChooseMaster => {\r\n  return new RemoteChooseMaster(\r\n    makeAxiosHttpClient(),\r\n    'https://swapi.dev/api/people'\r\n  );\r\n};\r\n\r\nexport default makeRemoteChooseMaster;\r\n","import React from 'react';\r\nimport Home from '../../../../presentation/pages/home/Home';\r\nimport makeRemoteChooseMaster from '../../usecases/RemoteChooseMasterFactory';\r\n\r\nconst makeHome: React.FC = () => {\r\n  return <Home chooseMaster={makeRemoteChooseMaster()} />;\r\n};\r\n\r\nexport default makeHome;\r\n","export default __webpack_public_path__ + \"static/media/darth-vader.5b59175e.png\";","export default __webpack_public_path__ + \"static/media/luke-skywalker.7ac8850b.png\";","import React from 'react';\r\n\r\ntype Props = {\r\n  dark: boolean;\r\n};\r\n\r\nfunction BackIcon({ dark = false }: Props) {\r\n  const color = dark ? '#2a2a2a' : 'white';\r\n  return (\r\n    <svg\r\n      width=\"31\"\r\n      height=\"26\"\r\n      viewBox=\"0 0 31 26\"\r\n      fill=\"none\"\r\n      xmlns=\"http://www.w3.org/2000/svg\"\r\n    >\r\n      <path\r\n        d=\"M31.0001 11.3333H6.69006L15.5117 2.51166L13.1551 0.154999L0.310059 13L13.1551 25.845L15.5117 23.4883L6.69006 14.6667H31.0001V11.3333Z\"\r\n        fill={color}\r\n      />\r\n    </svg>\r\n  );\r\n}\r\n\r\nexport default BackIcon;\r\n","import React from 'react';\r\nimport classnames from 'classnames';\r\nimport BackIcon from '../back-icon/BackIcon';\r\nimport Style from './BackButton.module.scss';\r\n\r\ntype Props = {\r\n  onClick: () => void;\r\n  dark: boolean;\r\n};\r\n\r\nfunction BackButton({ onClick, dark = false }: Props) {\r\n  const classes = classnames(Style.backButton, {\r\n    [Style.dark]: dark,\r\n  });\r\n  return (\r\n    <button type=\"button\" className={classes} onClick={onClick}>\r\n      <BackIcon dark={dark} />\r\n      <span>back</span>\r\n    </button>\r\n  );\r\n}\r\n\r\nexport default BackButton;\r\n","import React from 'react';\r\nimport Style from './Header.module.scss';\r\n\r\ntype Props = {\r\n  children: React.ReactElement;\r\n};\r\n\r\nfunction Header({ children }: Props) {\r\n  return <header className={Style.header}>{children}</header>;\r\n}\r\n\r\nexport default Header;\r\n","import React, { useMemo, useState } from 'react';\r\nimport { useHistory, useParams } from 'react-router-dom';\r\nimport classnames from 'classnames';\r\nimport Style from './Master.module.scss';\r\nimport DarthVader from './images/darth-vader.png';\r\nimport LukeSkywalker from './images/luke-skywalker.png';\r\nimport { BackButton, Header } from '../../components';\r\nimport { dashString, undashString } from '../../../utils/StringUtils';\r\nimport { ChooseMaster } from '../../../domain/usecases/ChooseMaster';\r\nimport Masters from '../../../domain/data/Masters.json';\r\n\r\ntype Params = {\r\n  master: string;\r\n};\r\n\r\ntype Props = {\r\n  chooseMaster: ChooseMaster;\r\n};\r\n\r\nfunction Master({ chooseMaster }: Props) {\r\n  const history = useHistory();\r\n  const [loading, setLoading] = useState<boolean>(false);\r\n  const { master } = useParams<Params>();\r\n\r\n  function handleBack() {\r\n    history.replace('/');\r\n  }\r\n\r\n  async function handleChooseAgain() {\r\n    setLoading(true);\r\n    let newMmaster;\r\n    try {\r\n      newMmaster = await chooseMaster.choose(Masters);\r\n      setLoading(false);\r\n      history.push(`/master/${dashString(newMmaster.name)}`);\r\n    } catch (error) {\r\n      // eslint-disable-next-line no-alert\r\n      alert('Sorry, try again later!');\r\n      setLoading(false);\r\n    }\r\n  }\r\n\r\n  const masterClasses = classnames(Style.master, {\r\n    [Style.masterLuke]: master === 'Luke-Skywalker',\r\n  });\r\n\r\n  const image = useMemo(\r\n    () => (master === 'Luke-Skywalker' ? LukeSkywalker : DarthVader),\r\n    [master]\r\n  );\r\n\r\n  return (\r\n    <div className={masterClasses}>\r\n      <Header>\r\n        <BackButton onClick={handleBack} dark={master === 'Luke-Skywalker'} />\r\n      </Header>\r\n      <main className={Style.main}>\r\n        <img className={Style.masterImage} src={image} alt=\"master\" />\r\n        <span className={Style.masterName}>\r\n          <span>Your master is </span>\r\n          <b>{undashString(master)}</b>\r\n        </span>\r\n        <div className={Style.buttonWrap}>\r\n          <button\r\n            type=\"button\"\r\n            className={Style.button}\r\n            disabled={loading}\r\n            onClick={handleChooseAgain}\r\n          >\r\n            <span>choose your path again, Padawan</span>\r\n          </button>\r\n        </div>\r\n      </main>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Master;\r\n","import React from 'react';\r\nimport Master from '../../../../presentation/pages/master/Master';\r\nimport makeRemoteChooseMaster from '../../usecases/RemoteChooseMasterFactory';\r\n\r\nconst makeHome: React.FC = () => {\r\n  return <Master chooseMaster={makeRemoteChooseMaster()} />;\r\n};\r\n\r\nexport default makeHome;\r\n","import React from 'react';\r\nimport { Switch, BrowserRouter, Route } from 'react-router-dom';\r\nimport makeHome from '../factories/pages/home/HomeFactory';\r\nimport makeMaster from '../factories/pages/master/MasterFactory';\r\n\r\nexport default function Router() {\r\n  return (\r\n    <BrowserRouter basename={process.env.PUBLIC_URL}>\r\n      <Switch>\r\n        <Route path=\"/master/:master\" component={makeMaster} />\r\n        <Route path=\"/\" component={makeHome} />\r\n      </Switch>\r\n    </BrowserRouter>\r\n  );\r\n}\r\n","import { ReportHandler } from 'web-vitals';\r\n\r\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport Router from './main/router/Router';\r\nimport reportWebVitals from './reportWebVitals';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <Router />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n"],"sourceRoot":""}